// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0

package db

import (
	"encoding/json"

	"github.com/google/uuid"
	"github.com/jackc/pgx/v5/pgtype"
)

type ActivityLog struct {
	ID            uuid.UUID        `json:"id"`
	OrgID         uuid.UUID        `json:"org_id"`
	EmployeeID    pgtype.UUID      `json:"employee_id"`
	SessionID     pgtype.UUID      `json:"session_id"`
	AgentID       pgtype.UUID      `json:"agent_id"`
	EventType     string           `json:"event_type"`
	EventCategory string           `json:"event_category"`
	Content       *string          `json:"content"`
	Payload       json.RawMessage  `json:"payload"`
	CreatedAt     pgtype.Timestamp `json:"created_at"`
}

type Agent struct {
	ID            uuid.UUID        `json:"id"`
	Name          string           `json:"name"`
	Type          string           `json:"type"`
	Description   string           `json:"description"`
	Provider      string           `json:"provider"`
	DefaultConfig json.RawMessage  `json:"default_config"`
	Capabilities  json.RawMessage  `json:"capabilities"`
	LlmProvider   string           `json:"llm_provider"`
	LlmModel      string           `json:"llm_model"`
	IsPublic      bool             `json:"is_public"`
	CreatedAt     pgtype.Timestamp `json:"created_at"`
	UpdatedAt     pgtype.Timestamp `json:"updated_at"`
}

type AgentPolicy struct {
	AgentID   uuid.UUID        `json:"agent_id"`
	PolicyID  uuid.UUID        `json:"policy_id"`
	CreatedAt pgtype.Timestamp `json:"created_at"`
}

type AgentRequest struct {
	ID          uuid.UUID        `json:"id"`
	EmployeeID  uuid.UUID        `json:"employee_id"`
	RequestType string           `json:"request_type"`
	RequestData json.RawMessage  `json:"request_data"`
	Status      string           `json:"status"`
	Reason      *string          `json:"reason"`
	CreatedAt   pgtype.Timestamp `json:"created_at"`
	ResolvedAt  pgtype.Timestamp `json:"resolved_at"`
}

type AgentTool struct {
	AgentID   uuid.UUID        `json:"agent_id"`
	ToolID    uuid.UUID        `json:"tool_id"`
	Config    json.RawMessage  `json:"config"`
	CreatedAt pgtype.Timestamp `json:"created_at"`
}

type Approval struct {
	ID         uuid.UUID        `json:"id"`
	RequestID  uuid.UUID        `json:"request_id"`
	ApproverID uuid.UUID        `json:"approver_id"`
	Status     string           `json:"status"`
	Comment    *string          `json:"comment"`
	CreatedAt  pgtype.Timestamp `json:"created_at"`
	ResolvedAt pgtype.Timestamp `json:"resolved_at"`
}

type Employee struct {
	ID                  uuid.UUID        `json:"id"`
	OrgID               uuid.UUID        `json:"org_id"`
	TeamID              pgtype.UUID      `json:"team_id"`
	RoleID              uuid.UUID        `json:"role_id"`
	Email               string           `json:"email"`
	FullName            string           `json:"full_name"`
	PasswordHash        string           `json:"password_hash"`
	Status              string           `json:"status"`
	Preferences         json.RawMessage  `json:"preferences"`
	PersonalClaudeToken *string          `json:"personal_claude_token"`
	LastLoginAt         pgtype.Timestamp `json:"last_login_at"`
	CreatedAt           pgtype.Timestamp `json:"created_at"`
	UpdatedAt           pgtype.Timestamp `json:"updated_at"`
	DeletedAt           pgtype.Timestamp `json:"deleted_at"`
}

type EmployeeAgentConfig struct {
	ID             uuid.UUID        `json:"id"`
	EmployeeID     uuid.UUID        `json:"employee_id"`
	AgentID        uuid.UUID        `json:"agent_id"`
	ConfigOverride json.RawMessage  `json:"config_override"`
	IsEnabled      bool             `json:"is_enabled"`
	SyncToken      *string          `json:"sync_token"`
	LastSyncedAt   pgtype.Timestamp `json:"last_synced_at"`
	CreatedAt      pgtype.Timestamp `json:"created_at"`
	UpdatedAt      pgtype.Timestamp `json:"updated_at"`
	// Full .md file content for agent configuration
	Content *string `json:"content"`
}

type EmployeeMcpConfig struct {
	ID           uuid.UUID `json:"id"`
	EmployeeID   uuid.UUID `json:"employee_id"`
	McpCatalogID uuid.UUID `json:"mcp_catalog_id"`
	Status       string    `json:"status"`
	// Actual configuration with secrets
	ConnectionConfig     json.RawMessage  `json:"connection_config"`
	CredentialsEncrypted *string          `json:"credentials_encrypted"`
	SyncToken            *string          `json:"sync_token"`
	LastSyncAt           pgtype.Timestamp `json:"last_sync_at"`
	CreatedAt            pgtype.Timestamp `json:"created_at"`
	UpdatedAt            pgtype.Timestamp `json:"updated_at"`
	IsEnabled            *bool            `json:"is_enabled"`
}

type EmployeePolicy struct {
	ID         uuid.UUID        `json:"id"`
	EmployeeID uuid.UUID        `json:"employee_id"`
	PolicyID   uuid.UUID        `json:"policy_id"`
	Overrides  json.RawMessage  `json:"overrides"`
	CreatedAt  pgtype.Timestamp `json:"created_at"`
}

// Skills assigned to each employee
type EmployeeSkill struct {
	ID         uuid.UUID `json:"id"`
	EmployeeID uuid.UUID `json:"employee_id"`
	SkillID    uuid.UUID `json:"skill_id"`
	IsEnabled  *bool     `json:"is_enabled"`
	// Employee-specific configuration overrides
	Config    []byte           `json:"config"`
	CreatedAt pgtype.Timestamp `json:"created_at"`
	UpdatedAt pgtype.Timestamp `json:"updated_at"`
}

type McpCatalog struct {
	ID                  uuid.UUID        `json:"id"`
	Name                string           `json:"name"`
	Provider            string           `json:"provider"`
	Version             string           `json:"version"`
	Description         string           `json:"description"`
	ConnectionSchema    json.RawMessage  `json:"connection_schema"`
	Capabilities        json.RawMessage  `json:"capabilities"`
	RequiresCredentials bool             `json:"requires_credentials"`
	IsApproved          bool             `json:"is_approved"`
	CategoryID          pgtype.UUID      `json:"category_id"`
	CreatedAt           pgtype.Timestamp `json:"created_at"`
	UpdatedAt           pgtype.Timestamp `json:"updated_at"`
	// Docker image for MCP server (if containerized)
	DockerImage *string `json:"docker_image"`
	// Template configuration for MCP server
	ConfigTemplate []byte `json:"config_template"`
	// Required environment variables (e.g., ["GITHUB_TOKEN"])
	RequiredEnvVars []byte `json:"required_env_vars"`
}

type McpCategory struct {
	ID          uuid.UUID        `json:"id"`
	Name        string           `json:"name"`
	Description *string          `json:"description"`
	CreatedAt   pgtype.Timestamp `json:"created_at"`
}

type OrgAgentConfig struct {
	ID        uuid.UUID        `json:"id"`
	OrgID     uuid.UUID        `json:"org_id"`
	AgentID   uuid.UUID        `json:"agent_id"`
	Config    json.RawMessage  `json:"config"`
	IsEnabled bool             `json:"is_enabled"`
	CreatedAt pgtype.Timestamp `json:"created_at"`
	UpdatedAt pgtype.Timestamp `json:"updated_at"`
}

type Organization struct {
	ID                   uuid.UUID        `json:"id"`
	Name                 string           `json:"name"`
	Slug                 string           `json:"slug"`
	Plan                 string           `json:"plan"`
	Settings             json.RawMessage  `json:"settings"`
	MaxEmployees         int32            `json:"max_employees"`
	MaxAgentsPerEmployee int32            `json:"max_agents_per_employee"`
	ClaudeApiToken       *string          `json:"claude_api_token"`
	CreatedAt            pgtype.Timestamp `json:"created_at"`
	UpdatedAt            pgtype.Timestamp `json:"updated_at"`
}

type Policy struct {
	ID        uuid.UUID        `json:"id"`
	Name      string           `json:"name"`
	Type      string           `json:"type"`
	Rules     json.RawMessage  `json:"rules"`
	Severity  string           `json:"severity"`
	CreatedAt pgtype.Timestamp `json:"created_at"`
	UpdatedAt pgtype.Timestamp `json:"updated_at"`
}

type Role struct {
	ID          uuid.UUID        `json:"id"`
	Name        string           `json:"name"`
	Description *string          `json:"description"`
	Permissions json.RawMessage  `json:"permissions"`
	CreatedAt   pgtype.Timestamp `json:"created_at"`
	UpdatedAt   pgtype.Timestamp `json:"updated_at"`
}

type Session struct {
	ID         uuid.UUID        `json:"id"`
	EmployeeID uuid.UUID        `json:"employee_id"`
	TokenHash  string           `json:"token_hash"`
	IpAddress  *string          `json:"ip_address"`
	UserAgent  *string          `json:"user_agent"`
	ExpiresAt  pgtype.Timestamp `json:"expires_at"`
	CreatedAt  pgtype.Timestamp `json:"created_at"`
}

// Available skills for Claude Code agents
type SkillCatalog struct {
	ID          uuid.UUID `json:"id"`
	Name        string    `json:"name"`
	Description *string   `json:"description"`
	Category    *string   `json:"category"`
	Version     string    `json:"version"`
	// Array of file objects with path and content
	Files json.RawMessage `json:"files"`
	// Required MCP servers and other skills
	Dependencies []byte           `json:"dependencies"`
	IsActive     *bool            `json:"is_active"`
	CreatedAt    pgtype.Timestamp `json:"created_at"`
	UpdatedAt    pgtype.Timestamp `json:"updated_at"`
}

type Subscription struct {
	ID                 uuid.UUID        `json:"id"`
	OrgID              uuid.UUID        `json:"org_id"`
	PlanType           string           `json:"plan_type"`
	MonthlyBudgetUsd   pgtype.Numeric   `json:"monthly_budget_usd"`
	CurrentSpendingUsd pgtype.Numeric   `json:"current_spending_usd"`
	BillingPeriodStart pgtype.Timestamp `json:"billing_period_start"`
	BillingPeriodEnd   pgtype.Timestamp `json:"billing_period_end"`
	Status             string           `json:"status"`
	CreatedAt          pgtype.Timestamp `json:"created_at"`
	UpdatedAt          pgtype.Timestamp `json:"updated_at"`
}

type SystemPrompt struct {
	ID        uuid.UUID        `json:"id"`
	ScopeType string           `json:"scope_type"`
	ScopeID   uuid.UUID        `json:"scope_id"`
	AgentID   pgtype.UUID      `json:"agent_id"`
	Prompt    string           `json:"prompt"`
	Priority  int32            `json:"priority"`
	CreatedAt pgtype.Timestamp `json:"created_at"`
	UpdatedAt pgtype.Timestamp `json:"updated_at"`
}

type Team struct {
	ID          uuid.UUID        `json:"id"`
	OrgID       uuid.UUID        `json:"org_id"`
	Name        string           `json:"name"`
	Description *string          `json:"description"`
	CreatedAt   pgtype.Timestamp `json:"created_at"`
	UpdatedAt   pgtype.Timestamp `json:"updated_at"`
}

type TeamAgentConfig struct {
	ID             uuid.UUID        `json:"id"`
	TeamID         uuid.UUID        `json:"team_id"`
	AgentID        uuid.UUID        `json:"agent_id"`
	ConfigOverride json.RawMessage  `json:"config_override"`
	IsEnabled      bool             `json:"is_enabled"`
	CreatedAt      pgtype.Timestamp `json:"created_at"`
	UpdatedAt      pgtype.Timestamp `json:"updated_at"`
}

type TeamPolicy struct {
	ID        uuid.UUID        `json:"id"`
	TeamID    uuid.UUID        `json:"team_id"`
	PolicyID  uuid.UUID        `json:"policy_id"`
	Overrides json.RawMessage  `json:"overrides"`
	CreatedAt pgtype.Timestamp `json:"created_at"`
}

type Tool struct {
	ID               uuid.UUID        `json:"id"`
	Name             string           `json:"name"`
	Type             string           `json:"type"`
	Description      string           `json:"description"`
	Schema           json.RawMessage  `json:"schema"`
	RequiresApproval bool             `json:"requires_approval"`
	CreatedAt        pgtype.Timestamp `json:"created_at"`
	UpdatedAt        pgtype.Timestamp `json:"updated_at"`
}

type UsageRecord struct {
	ID            uuid.UUID        `json:"id"`
	OrgID         uuid.UUID        `json:"org_id"`
	EmployeeID    pgtype.UUID      `json:"employee_id"`
	AgentConfigID pgtype.UUID      `json:"agent_config_id"`
	ResourceType  string           `json:"resource_type"`
	Quantity      int64            `json:"quantity"`
	CostUsd       pgtype.Numeric   `json:"cost_usd"`
	PeriodStart   pgtype.Timestamp `json:"period_start"`
	PeriodEnd     pgtype.Timestamp `json:"period_end"`
	Metadata      json.RawMessage  `json:"metadata"`
	TokenSource   *string          `json:"token_source"`
	CreatedAt     pgtype.Timestamp `json:"created_at"`
}

// Complete view of employee agent configurations with catalog details
type VEmployeeAgent struct {
	ID             uuid.UUID        `json:"id"`
	EmployeeID     uuid.UUID        `json:"employee_id"`
	EmployeeName   string           `json:"employee_name"`
	EmployeeEmail  string           `json:"employee_email"`
	AgentName      string           `json:"agent_name"`
	AgentType      string           `json:"agent_type"`
	Provider       string           `json:"provider"`
	IsEnabled      bool             `json:"is_enabled"`
	ConfigOverride json.RawMessage  `json:"config_override"`
	SyncToken      *string          `json:"sync_token"`
	LastSyncedAt   pgtype.Timestamp `json:"last_synced_at"`
	CreatedAt      pgtype.Timestamp `json:"created_at"`
}

// Complete view of employee MCP configurations with catalog details
type VEmployeeMcp struct {
	ID            uuid.UUID        `json:"id"`
	EmployeeID    uuid.UUID        `json:"employee_id"`
	EmployeeName  string           `json:"employee_name"`
	EmployeeEmail string           `json:"employee_email"`
	McpName       string           `json:"mcp_name"`
	Provider      string           `json:"provider"`
	Version       string           `json:"version"`
	Status        string           `json:"status"`
	SyncToken     *string          `json:"sync_token"`
	LastSyncAt    pgtype.Timestamp `json:"last_sync_at"`
	CreatedAt     pgtype.Timestamp `json:"created_at"`
}

// Pending approval requests with full requester context
type VPendingApproval struct {
	RequestID      uuid.UUID        `json:"request_id"`
	RequestType    string           `json:"request_type"`
	RequestData    json.RawMessage  `json:"request_data"`
	Reason         *string          `json:"reason"`
	RequestedAt    pgtype.Timestamp `json:"requested_at"`
	EmployeeID     uuid.UUID        `json:"employee_id"`
	RequesterName  string           `json:"requester_name"`
	RequesterEmail string           `json:"requester_email"`
	TeamName       *string          `json:"team_name"`
	OrgName        string           `json:"org_name"`
}
