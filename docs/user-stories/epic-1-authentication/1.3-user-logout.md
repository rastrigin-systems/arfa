# Story 1.3: User Logout

**As a** logged-in user
**I want to** log out of my account
**So that** I can end my session securely or switch to a different account

**Priority:** P0 (Critical)
**Status:** âœ… Implemented
**Endpoints:** `POST /api/v1/auth/logout`
**UI:** Logout button in navigation/user menu

## Acceptance Criteria

```gherkin
Given I am logged in and on any page
When I look at the navigation bar
Then I see a user menu or logout button
And the logout option is clearly visible and accessible

Given I am logged in
When I click "Logout" from the navigation menu
Then my session is immediately terminated
And my session token (ubik_token cookie) is cleared
And I am redirected to the login page (/login)
And I see a success message "Logged out successfully"

Given I have just logged out
When I try to navigate to a protected page (e.g., /dashboard)
Then I am redirected to the login page
And I see a message "Please log in to continue"

Given I have just logged out
When I click the browser back button
Then I cannot access any protected pages
And I am redirected to the login page
And my session remains terminated

Given I want to switch accounts
When I click "Logout"
Then I am taken to the login page
And I can log in with different credentials
And a new session is created for the new user
```

## Implementation Notes

- Logout button should be in the top navigation bar (likely in a user menu)
- `POST /api/v1/auth/logout` clears the `ubik_token` httpOnly cookie
- Session is deleted from the database
- No confirmation dialog needed (immediate logout)
- After logout, all protected routes should redirect to /login
- Client-side should clear any cached user data

## Related
- [1.2 User Login](./1.2-user-login.md)
- [Epic 1 Overview](./README.md)
- [Back to All Stories](../README.md)
