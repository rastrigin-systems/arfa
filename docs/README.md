# Ubik Enterprise - Database Documentation

**Generated by tbls** | **Database**: PostgreSQL 15+ | **Tables**: 20 | **Views**: 3

## ğŸ“Š Entity Relationship Diagram

- **[Interactive Mermaid ERD](ERD.md)** - Complete schema with all relationships visualized
- **[SVG Diagram](schema.svg)** - Generated by tbls (see bottom of page)
- **[JSON Schema](schema.json)** - Machine-readable schema

## Tables

| Name | Columns | Comment | Type |
| ---- | ------- | ------- | ---- |
| [public.organizations](public.organizations.md) | 9 |  | BASE TABLE |
| [public.subscriptions](public.subscriptions.md) | 10 |  | BASE TABLE |
| [public.teams](public.teams.md) | 6 |  | BASE TABLE |
| [public.roles](public.roles.md) | 5 |  | BASE TABLE |
| [public.employees](public.employees.md) | 11 |  | BASE TABLE |
| [public.sessions](public.sessions.md) | 7 |  | BASE TABLE |
| [public.agent_catalog](public.agent_catalog.md) | 12 |  | BASE TABLE |
| [public.tools](public.tools.md) | 8 |  | BASE TABLE |
| [public.policies](public.policies.md) | 7 |  | BASE TABLE |
| [public.agent_tools](public.agent_tools.md) | 4 |  | BASE TABLE |
| [public.agent_policies](public.agent_policies.md) | 3 |  | BASE TABLE |
| [public.team_policies](public.team_policies.md) | 5 |  | BASE TABLE |
| [public.employee_agent_configs](public.employee_agent_configs.md) | 10 |  | BASE TABLE |
| [public.mcp_categories](public.mcp_categories.md) | 4 |  | BASE TABLE |
| [public.mcp_catalog](public.mcp_catalog.md) | 12 |  | BASE TABLE |
| [public.employee_mcp_configs](public.employee_mcp_configs.md) | 10 |  | BASE TABLE |
| [public.agent_requests](public.agent_requests.md) | 8 |  | BASE TABLE |
| [public.approvals](public.approvals.md) | 7 |  | BASE TABLE |
| [public.activity_logs](public.activity_logs.md) | 7 |  | BASE TABLE |
| [public.usage_records](public.usage_records.md) | 11 |  | BASE TABLE |
| [public.v_employee_agents](public.v_employee_agents.md) | 11 | Complete view of employee agent configurations with catalog details | VIEW |
| [public.v_employee_mcps](public.v_employee_mcps.md) | 11 | Complete view of employee MCP configurations with catalog details | VIEW |
| [public.v_pending_approvals](public.v_pending_approvals.md) | 10 | Pending approval requests with full requester context | VIEW |

## Stored procedures and functions

| Name | ReturnType | Arguments | Type |
| ---- | ------- | ------- | ---- |
| public.uuid_nil | uuid |  | FUNCTION |
| public.uuid_ns_dns | uuid |  | FUNCTION |
| public.uuid_ns_url | uuid |  | FUNCTION |
| public.uuid_ns_oid | uuid |  | FUNCTION |
| public.uuid_ns_x500 | uuid |  | FUNCTION |
| public.uuid_generate_v1 | uuid |  | FUNCTION |
| public.uuid_generate_v1mc | uuid |  | FUNCTION |
| public.uuid_generate_v3 | uuid | namespace uuid, name text | FUNCTION |
| public.uuid_generate_v4 | uuid |  | FUNCTION |
| public.uuid_generate_v5 | uuid | namespace uuid, name text | FUNCTION |
| public.update_updated_at_column | trigger |  | FUNCTION |
| public.generate_sync_token | trigger |  | FUNCTION |

## Relations

![er](schema.svg)

---

> Generated by [tbls](https://github.com/k1LoW/tbls)
